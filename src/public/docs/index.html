<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview - Developers | ArozOS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://aroz-online.github.io/ArozOS-Developers/favicon.png">

  
  
  <link rel="stylesheet" href="/ArozOS-Developers/css/style.min.2abe4f9deee2e3e8ec440009003f7bb21c5c60b7915a1cf8ec38e682289bee57.css">
  

  

</head>

<body class='page page-default-list'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ArozOS-Developers/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ArozOS-Developers/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-source">
      <a href="https://github.com/tobychui/arozos">
        <span>Source</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://aroz-online.github.io/ArozOS-Developers/"><img width="70" height="70" alt="Logo" src="/ArozOS-Developers/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://aroz-online.github.io/ArozOS-Developers/"><img  width="70" height="70" alt="Logo" src="/ArozOS-Developers/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ArozOS-Developers/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ArozOS-Developers/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-source">
      <a href="https://github.com/tobychui/arozos">
        <span>Source</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/runtimes/">Introduction to agi</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/setup_dev_env/">Create New WebApp</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/init-agi/">Start Script (init.agi)</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/agi_resp/">Request &amp; Response</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_intro/">Front-end Development</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_window-control/">ðŸ”¹ Float-Windows API</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_files/">ðŸ”¹ File Selector &amp; File Passing</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_intro/">Backend Development</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_std/">ðŸ”¸ system</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_user/">ðŸ”¸ user</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_serverless/">ðŸ”¸ serverless</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_filelib/">ðŸ”¸ filelib</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_appdata/">ðŸ”¸ appdata</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_imagelib/">ðŸ”¸ imagelib</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_http/">ðŸ”¸ http</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_websocket/">ðŸ”¸ websocket</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_iot/">ðŸ”¸ iot</a>
    </li>
    
    <li class="">
      <a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_share/">ðŸ”¸ share</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          

<span class="overview">Overview</span>
<h1 class="title">Overview</h1>
<div class="content">
  <h2 id="webapps-development-in-arozos">WebApps development in ArozOS</h2>
<p>AGI (ArozOS Gateway Interface) is an interface designed to make developing ArozOS webapp&rsquo;s  backend with ease. The interface language is based on Otto, a JavaScript virtual machine built into ArozOS core.</p>
<p>In this documentation, the AGI scripting language will be introduced and examples will be provided for those who have some experience in vanilla JS programming. If you are not familiar with vanilla JS, you can start from <a href="https://www.w3schools.com/js/">here</a>.</p>

</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/runtimes/">Introduction to agi</a></h2>
  <p>AGI (ArozOS Gateway Interface) is a JavaScript scripting interface provided by ArozOS that allow user scope code execution with high flexibility and automation. The JavaScript VM is provided by Otto and is mostly compatible with modern JavaScript syntax.
The followings describe the different ways to call &amp; use AGI scripts.
WebApp (Front-end) Request Call by WebApps by logged in users. Serve as a simple backend function like a php script does with build in authentication and permission checks.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/setup_dev_env/">Create New WebApp</a></h2>
  <p>Create New WebApp Folder Structure To create a new WebApp, create a folder under the ./web/ folder under arozos root. After the folder is created, place the following files into the folder. (Assume the module name is &ldquo;MyWebapp&rdquo;)
. â””â”€â”€ web/ â””â”€â”€ MyWebapp/ â”œâ”€â”€ init.agi â”œâ”€â”€ index.html â””â”€â”€ img/ â”œâ”€â”€ icon.png â””â”€â”€ desktop_icon.png The icons are required to be in following sizes
Icon Filename Size icon.png 64 x 64 px desktop_icon.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/init-agi/">Start Script (init.agi)</a></h2>
  <p>The start script (or commonly known as the init.agi file), is the config and environment checking script that allow ArozOS to know the given folder is a WebApp instead of a resources file. This file define the way and specification on how to launch the WebApp module on the web desktop interface.
Here is a minimal example of the init.agi file.
/* Example Module author: tobychui This module is just an example for showcasing the basics of how agi scripting works with the front-end in ArozOS environment */ //Define the launch settings for the module var moduleLaunchInfo = { Name: &#34;Example&#34;, Group: &#34;Interface Module&#34;, IconPath: &#34;Example/img/small_icon.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/agi_resp/">Request &amp; Response</a></h2>
  <p>Front-end ðŸ¡² Backend (AGI) Request When requesting the AGI execution interface, you can post data with your request. ArozOS provides two way for front-end to request the AGI script placed in your ./web/ folder.
Request via ao_module wrapper (Recommended) You can import ao_module.js and use the ao_module_agirun function call to execute a agi script. Here is an example.
//index.html //Call to helloworld.js with timeout set to 3 seconds ao_module_agirun(&#34;demo/backend/helloworld.js&#34;, { foo: &#34;bar&#34; }, function(resp){ alert(resp); },function(){ alert(&#34;Oops.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_intro/">Front-end Development</a></h2>
  <p>Work In progress</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_window-control/">ðŸ”¹ Float-Windows API</a></h2>
  <p>Work In progress</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/frontend_files/">ðŸ”¹ File Selector &amp; File Passing</a></h2>
  <p>Work In progress</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_intro/">Backend Development</a></h2>
  <p>Work In progress</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_std/">ðŸ”¸ system</a></h2>
  <p>All the functions in the system library are usable in all agi runtime and do not need to include using requirelib function.
CONST BUILD_VERSION INTERNVAL_VERSION LOADED_MODULES LOADED_STORAGES VAR HTTP_RESP HTTP_HEADER (Default: &#34;text/plain&#34;) You can set HTTP_RESP with HTTP_HEADER to create custom response headers. For example, you can serve an HTML file using agi gateway
HTTP_RESP = &#34;&lt;html&gt;&lt;body&gt;Hello World&lt;/body&gt;&lt;/html&gt;&#34;; HTTP_HEADER = &#34;text/html&#34;; Response Handlers sendResp(&#34;Any string&#34;); sendJSONResp(JSON.stringify({text: &#34;Hello World&#34;)); //ArozOS v1 / v2 sendJSONResp({foo: &#39;bar&#39;}); //ArozOS v2 only Database Access newDBTableIfNotExists(&#34;tablename&#34;); dropDBTable(&#34;tablename&#34;); writeDBItem(&#34;tablename&#34;, &#34;key&#34;, &#34;value&#34;); readDBItem(&#34;tablename&#34;, &#34;key&#34;); listDBTable(&#34;tablename&#34;); //Return key value array deleteDBItem(&#34;tablename&#34;, &#34;key&#34;); Register and Packages registerModule(JSON.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_user/">ðŸ”¸ user</a></h2>
  <p>The user library is automatically imported when the execution scope is a &ldquo;user&rdquo; scope instead of a &ldquo;system&rdquo; scope. For example, WebApp agi calls, serverless and personal homepage are all accessible to the user scope functions.
CONST USERNAME USERICON USERQUOTA_TOTAL USERQUOTA_USED USER_VROOTS //Return an array of root names USER_MODULES //Accessible modules in array, might return [&#34;*&#34;] for admin permission Permission getUserPermissionGroup(); //Get the permission group name(s) this user are in userIsAdmin(); //Return true / false User Creation, Edit and Removal All the command in this section require administrator permission.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_serverless/">ðŸ”¸ serverless</a></h2>
  <p>Serverless function are only usable in serverless execution scope. Developers can access agi and do dynamic programming via external agi call using ARZ Serverless panel. The following APIs allow devs to access GET, POST parameters and request Body on demand.
CONST REQ_METHOD //Get the method of request, e.g. GET / HEAD / POST FUNCTIONS getPara(key) //Return the GET value of given key postPara(key) //Return the POST value of given key readBody() //Get the whole request body as string Notes These functions are only usable when called via the ARZ Serverless endpoints (URI start from /api/remote/)</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_filelib/">ðŸ”¸ filelib</a></h2>
  <p>filelib is the core library for users to interact with the file system. You can include the library with requirelib(&quot;filelib&quot;). Example as follows.
if (!requirelib(&#34;filelib&#34;)){ console.log(&#34;Filelib import failed&#34;); }else{ console.log(filelib.fileExists(&#34;user:/Desktop/&#34;)); } Filelib functions Here is a list of functions and example provided by filelib.
filelib.writeFile(&#34;user:/Desktop/test.txt&#34;, &#34;Hello World&#34;); //Write to file filelib.readFile(&#34;user:/Desktop/test.txt&#34;); //Read from file filelib.deleteFile(&#34;user:/Desktop/test.txt&#34;); //Delete a file by given path filelib.readdir(&#34;user:/Desktop/&#34;); //List all subdirectories within this directory filelib.walk(&#34;user:/Desktop/&#34;); //Recursive scan dir and return all files and folder in subdirs, network drive are not supported filelib.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_appdata/">ðŸ”¸ appdata</a></h2>
  <p>An API for access files inside the web folder. This API only provide read only functions. Include the appdata lib as follows.
requirelib(&#34;appdata&#34;); appdata functions appdata.readFile(&#34;UnitTest/appdata.txt&#34;); //Return false (boolean) if read failed appdata.listDir(&#34;UnitTest/backend/&#34;); //Return a list of files in JSON string Example Usages Read File /* appdata.readFile.js This script test the appdata read file function. This should be able to read file */ //Require the appdata library var succ = requirelib(&#34;appdata&#34;); function main(){ //Get a file from the UnitTest WebApp.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_imagelib/">ðŸ”¸ imagelib</a></h2>
  <p>A basic image handling library to process images. Allowing basic image resize and get image dimensions
//Include the library requirelib(&#34;imagelib&#34;); ImageLib functions imagelib.getImageDimension(&#34;user:/Desktop/test.jpg&#34;); //return [width, height] imagelib.resizeImage(&#34;user:/Desktop/input.png&#34;, &#34;user:/Desktop/output.png&#34;, 500, 300); //Resize input.png to 500 x 300 pixal and write to output.png imagelib.loadThumbString(&#34;user:/Desktop/test.jpg&#34;); //Load the given file&#39;s thumbnail as base64 string, return false if failed imagelib.cropImage(&#34;user:/Desktop/test.jpg&#34;, &#34;user:/Desktop/out.jpg&#34;,100,100,200,200)); imagelib.classify(&#34;tmp:/classify.jpg&#34;, &#34;yolo3&#34;); //Classify an image using neural network, since v1.119 Crop Image Options Crop the given image with the following arguemnts: 1) Input file (virtual path) 2) Output file (virtual path, will be overwritten if exists) 3) Position X 4) Position Y 5) Crop With 6) Crop Height return true if success, false if failed AI Classifier Options (since v1.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_http/">ðŸ”¸ http</a></h2>
  <p>A basic http function group that allow GET / POST / HEAD / Download request to other web resources
//Include the library requirelib(&#34;http&#34;); http functions http.get(&#34;http://example.com/api/&#34;); //Create a get request, return the respond body http.post(&#34;http://localhost:8080/system/file_system/listDir&#34;, JSON.stringify({ dir: &#34;user:/Desktop&#34;, sort: &#34;default&#34; })); //Create a POST request with JSON payload http.head(&#34;http://localhost:8080/&#34;, &#34;Content-Type&#34;); //Get the header field &#34;Content-Type&#34; from the requested url, leave 2nd paramter empty to return the whole header in JSON string http.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_websocket/">ðŸ”¸ websocket</a></h2>
  <p>websocket library provide request upgrade from normal HTTP request to WebSocket connections.
//Include the library requirelib(&#34;websocket&#34;); websocket functions websocket.upgrade(10); //Timeout value in integer, return false if failed var recv = websocket.read(); //Blocking websocket listen websocket.send(&#34;Hello World&#34;); //Send websocket to client (web UI) websocket.close(); //Close websocket connection Usage Example Font-end
function getWSEndpoint(){ //Open opeartion in websocket let protocol = &#34;wss://&#34;; if (location.protocol !== &#39;https:&#39;) { protocol = &#34;ws://&#34;; } wsControlEndpoint = (protocol + window.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_iot/">ðŸ”¸ iot</a></h2>
  <p>The iot library provide access to the iot hardware control endpoints (or endpoints for short) in a much easier to use abstraction. Note that not all iot devices are supported. If you have an unsupported iot device, please contribute a driver for your brand of iot devices.
//Include the library requirelib(&#34;iot&#34;); iot functions iot.ready() //Return the iot manager status. Return true if ready, false otherwise. iot.scan() //Force the iot manager to scan nearby iot devices iot.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="https://aroz-online.github.io/ArozOS-Developers/docs/backend_share/">ðŸ”¸ share</a></h2>
  <p>The share API allow access to the ArozOS share interface and generate UUID based on the shared file.
requirelib(&#34;share&#34;); share functions share.shareFile(&#34;user:/Desktop/test.pptx&#34;, 300); //File virtual path and timeout in seconds, return UUID of share share.getFileShareUUID(&#34;user:/Desktop/test.pptx&#34;); //Get the share UUID of a given file, return null if not shared share.fileIsShared(&#34;user:/Desktop/test.pptx&#34;); //Return true / false share.checkShareExists(shareUUID); //Return true / false share.checkSharePermission(shareUUID); //Return the share permission of shares (anyone / signedin / samegroup), return null if shareUUID invalid.</p>
</div>




        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          
            
<div class="social">
    
        <a href="https://github.com/tobychui/arozos" target="blank"><img height="20" width="20" src="/ArozOS-Developers/images/social/github.svg" title="Github" alt="Github" /></a>
    
        <a href="https://t.me/ArOZBeta" target="blank"><img height="20" width="20" src="/ArozOS-Developers/images/social/telegram.svg" title="Telegram" alt="Telegram" /></a>
    
</div>

          
          
            <div class="copyright">CopyRight <a href="https://arozos.com">ArozOS</a> Project | Licensed under GPLv3</div>
          
        </div>
      </div>
    </div>
  </div>
</div>


  

  
  

  
  <script type="text/javascript" src="/ArozOS-Developers/js/scripts.min.302a6fc365d5139fb98cf60bdb8f715d96257ea189161d36c190ccfa8182e569.js"></script>
  

  
  
  
    
  


</body>

</html>
